
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MF3D RT (real-time) &#8212; MF3D 1.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/mf3d.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">MF3D 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MF3D RT (real-time)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mf3d-rt-real-time">
<h1>MF3D RT (real-time)<a class="headerlink" href="#mf3d-rt-real-time" title="Permalink to this headline">¶</a></h1>
<p>MF3D RT is not a rendered stimulus set, but a code base for (near) real-time rendering of the macaque avatar using a game rendering engine. Since each frame must be rendered within a single display refresh (e.g. 16.6ms for a 60Hz display), there is a trade off in level of detail and realism that can be achieved compared to offline rendering. It is intended for brief visual presentations of static images employed in traditional neuroscience studies, although it can be used to generate slowly evolving scene dynamics. For real-time generation of animated sequences of the avatar embedded in virtual environments, see the <a href="#id1"><span class="problematic" id="id2">`MF3D Unity &lt;&gt;`_</span></a> project.</p>
<a class="reference internal image-reference" href="_images/Blender.svg"><img alt="Blender" src="_images/Blender.svg" width="150" /></a>
<a class="reference internal image-reference" href="_images/cc-by-nc.svg"><img alt="CC-BY-NC" src="_images/cc-by-nc.svg" width="100" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MF3D RT requires access to the 3D model Blender file, which is not currently publicly released. If you are interested in using this resource in your research then please contact us to discuss possible collaboration.</p>
</div>
<div class="section" id="adaptive-stimulus-optimization">
<h2>Adaptive stimulus optimization<a class="headerlink" href="#adaptive-stimulus-optimization" title="Permalink to this headline">¶</a></h2>
<p>The motivation for MF3D RT is to provide rapid access to the infinite stimulus space that is possible via combinations of the many continuous parameters of the MF3D avatar. Online updating of stimulus parameters is a common approach in psychophysics, where <a class="reference external" href="https://en.wikipedia.org/wiki/Psychophysics#Adaptive_psychophysical_methods">adaptive staircase</a> procedures are used to select appropriate parameters for subsequent stimuli based on an observer’s previous responses.</p>
<p>In the neural domain, similar adaptive approaches utilizing online analysis of neural recordings have shown promise (<a class="reference external" href="https://doi.org/10.3389/fncir.2013.00101">DiMattina &amp; Zhang, 2013</a>), including <a class="reference external" href="https://en.wikipedia.org/wiki/Genetic_algorithm">genetic algorithms</a> (<a class="reference external" href="DOI:10.1126/science.8346439">Forrest, 1993</a>). Application of this approach to studying single unit responses in the
macaque brain was pioneered by
<a class="reference external" href="https://krieger.jhu.edu/mbi/directory/ed-connor/">Connor</a> and
colleagues, who used a genetic algorithm to iteratively adapt 3D visual
stimuli in order to maximize firing rates of neurons in macaque
inferotemporal (IT) cortex (<a class="reference external" href="https://doi.org/10.1038/nn.2202">Yamane et al.,
2008</a>; <a class="reference external" href="https://doi.org/10.1016/j.neuron.2012.04.029">Hung et al.,
2012</a>; <a class="reference external" href="https://doi.org/10.1016/j.neuron.2014.08.043">Vaziri et al.,
2014</a>). Variations of
this approach have since been used to study the visual preferences of
neurons in the macaque ‘face patch’ regions of IT cortex (<a class="reference external" href="https://doi.org/10.1016/j.cell.2017.05.011">Chang &amp; Tsao,
2017</a>; <a class="reference external" href="https://doi.org/10.1016/j.cell.2019.04.005">Ponce et al.,
2019</a>).</p>
<p>The MF3D RT implementation is agnostic of what data is being used to drive convergence towards ‘optimal’ stimuli, thus maintaining flexibility.</p>
</div>
<div class="section" id="upbge">
<h2>UPBGE<a class="headerlink" href="#upbge" title="Permalink to this headline">¶</a></h2>
<p>We utilize the <a class="reference external" href="https://upbge.org/">UPBGE</a> Blender game engine of the
open-source 3D graphics software <a class="reference external" href="www.blender.org">Blender</a> to
parametrically vary multiple aspects of facial appearance in real-time,
based on online analysis of neural spiking responses. On each screen
refresh interval, UPBGE updates the parameters of the virtual scene
based on an incoming vector of floating point values received from the
experimental control computer via <a class="reference external" href="https://en.wikipedia.org/wiki/User_Datagram_Protocol">UDP</a> connection.</p>
<p>A stimulus subspace is defined by the selection of N dimensions that
affect facial appearance in the pixel-domain (see <strong>Table 1</strong>).</p>
</div>
<div class="section" id="mf3d-rt-add-on">
<h2>MF3D RT Add-on<a class="headerlink" href="#mf3d-rt-add-on" title="Permalink to this headline">¶</a></h2>
<p>In the Blender or UPBGE graphical user interface, go to the <a class="reference external" href="https://docs.blender.org/manual/en/latest/editors/preferences/addons.html">add-on menu</a> and select the location of MF3D-RT.py.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 27%" />
<col style="width: 41%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dim.</p></th>
<th class="head"><p>Category</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Spatial - Allocentric</p></td>
<td><p>Body azimuth angle</p></td>
<td><p>Degrees</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Spatial - Allocentric</p></td>
<td><p>Body elevation angle</p></td>
<td><p>Degrees</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>Spatial - Allocentric</p></td>
<td><p>Head azimuth angle</p></td>
<td><p>Degrees</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Spatial - Allocentric</p></td>
<td><p>Head elevation angle</p></td>
<td><p>Degrees</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Spatial - Allocentric</p></td>
<td><p>Eye gaze azimuth angle</p></td>
<td><p>Degrees</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Spatial - Allocentric</p></td>
<td><p>Eye gaze elevation angle</p></td>
<td><p>Degrees</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>Social</p></td>
<td><p>Eye lid closure</p></td>
<td><p>Percent</p></td>
<td><p>0 - 100</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>Social</p></td>
<td><p>Pupil dilation</p></td>
<td><p>Percent</p></td>
<td><p>0 - 100</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>Social</p></td>
<td><p>Brow raise</p></td>
<td><p>Percent</p></td>
<td><p>0 - 100</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>Social</p></td>
<td><p>Mouth open</p></td>
<td><p>Percent</p></td>
<td><p>0 - 100</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>Social</p></td>
<td><p>Lip retraction - pout</p></td>
<td><p>Percent</p></td>
<td><p>0 - 100</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>Social</p></td>
<td><p>Ear flap</p></td>
<td><p>Percent</p></td>
<td><p>0 - 100</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 1</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 2</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 3</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 4</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 5</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 6</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 7</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 8</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-even"><td><p>21</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 9</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-odd"><td><p>22</p></td>
<td><p>Face shape</p></td>
<td><p>Principal component 10</p></td>
<td><p>S.D.</p></td>
<td><p>+/- 3</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p>Texture</p></td>
<td><p>Lighting direction</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>24</p></td>
<td><p>Texture</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mf3d-rt-matlab-demo">
<h2>MF3D RT Matlab Demo<a class="headerlink" href="#mf3d-rt-matlab-demo" title="Permalink to this headline">¶</a></h2>
<p>We provide a Matlab GUI to demonstrate online control of the MF3D stimulus rendering in UPBGE.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/MF3D_Logo_black.svg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Release-1.html">MF3D Release 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Release-2.html">MF3D Release 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Stimulus-Editor.html">MF3D Tools - Stimulus Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Video-Parameter-Estimation-GUI.html">MF3D Tools - Video Parameter GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Parameterizing-anatomical-variations.html">Methods - Face Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Research.html">Published Research</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">MF3D 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MF3D RT (real-time)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Aidan Murphy.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>