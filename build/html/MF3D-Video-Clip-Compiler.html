
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using MF3D_ConcatClips.py &#8212; MF3D 1.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/mf3d.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MF3D ‘Face-space’ construction" href="MF3D-Parameterizing-anatomical-variations.html" />
    <link rel="prev" title="Video Parameter Estimation GUI" href="MF3D-Video-Parameter-Estimation-GUI.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="MF3D-Parameterizing-anatomical-variations.html" title="MF3D ‘Face-space’ construction"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="MF3D-Video-Parameter-Estimation-GUI.html" title="Video Parameter Estimation GUI"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MF3D 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using MF3D_ConcatClips.py</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>Phenomenal-Cat===============================
Compiling Animation Sequences
===============================</p>
<p>For addressing certain scientific questions, it may be beneficial to
be able to present dynamic video stimuli continuously over a longer
duration, with many variations of facial movement interleaved. The short
animated videos provided in the <a class="reference internal" href="MF3D-Release-1.html#mf3d-r1-animation"><span class="std std-ref">MF3D Animations R1</span></a> stimulus set have been rendered in manner that allows users to concatenate multiple clips
together to achieve this goal. Specifically, the first and last frames
of each movie clip for a given head azimuth orientation are identical.
Therefore, all that is needed to create longer movie clips containing
many permutations of facial actions is to edit the original clips
together in video editing software.</p>
<div class="sidebar">
<p class="sidebar-title">Video Editing in Blender</p>
<a class="reference external image-reference" href="https://www.blender.org"><img alt="Blender" class="align-left" height="30" src="_images/Blender.svg" /></a>
<p>While there are many programs available for video editing, we recommend the video sequence editor (VSE) provided in <a class="reference external" href="https://www.blender.org/">Blender</a>, for several reasons:</p>
<ol class="arabic simple">
<li><p>Blender is <a class="reference external" href="https://www.blender.org/about/license/">free and
open-source</a> under the GNU
General Public License</p></li>
<li><p>Blender has an embedded <a class="reference external" href="https://docs.blender.org/api/current/">Python
interpreter</a>, allowing
Python scripting of various actions.</p></li>
<li><p>Blender is the software that we also used to render the images and
movies of 3D macaque avatar, and hope to make publicly available in future.</p></li>
</ol>
</div>
<div class="section" id="using-mf3d-concatclips-py">
<h1>Using MF3D_ConcatClips.py<a class="headerlink" href="#using-mf3d-concatclips-py" title="Permalink to this headline">¶</a></h1>
<p>MF3D R1 provides a limited set of movie clips, which are summarized in
the accompanying spreadsheet (.csv file). <a class="reference external" href="https://github.com/Phenomenal-Cat/MF3D-Tools/blob/master/MF3D_Blender/MF3D_ConcatClips_Demo.py">MF3D_ConcatClips_Demo.py</a>
reads the data from this spreadsheet to find the appropriate order to
position various movie clips in order to generate a new longer movie
containing smooth continuous motion.</p>
<div class="figure align-left" id="id1" style="width: 50%">
<a class="reference internal image-reference" href="_images/Blender_VSE_Script.png"><img alt="Blender VSE window" src="_images/Blender_VSE_Script.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">A screenshot of the Blender VSE window. Animated clips can be arranged manually or programmatically via Python scripting.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="clearer docutils container">
<a class="reference internal image-reference" href="_images/spacer.png"><img alt="_images/spacer.png" src="_images/spacer.png" style="width: 1px;" /></a>
</div>
</div>
<div class="section" id="example">
<h1>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h1>
<p>For example, if a user were to specify the following variables in
<a class="reference external" href="https://github.com/Phenomenal-Cat/MF3D-Tools/blob/master/MF3D_Blender/MF3D_ConcatClips_Demo.py">MF3D_ConcatClips.py</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ClipSequence</span>    <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Yawn&#39;</span><span class="p">,</span><span class="s1">&#39;Rotate&#39;</span><span class="p">,</span><span class="s1">&#39;Coo&#39;</span><span class="p">,</span><span class="s1">&#39;Rotate&#39;</span><span class="p">,</span><span class="s1">&#39;Scream&#39;</span><span class="p">]</span>
<span class="n">HeadAzimuths</span>    <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
<span class="n">PlaybackSpeed</span>   <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>This tells the script to load the following sequence of five movie
clips:</p>
<iframe src="https://player.vimeo.com/video/394782616?color=ff9933&byline=0&portrait=0" style="display:block;padding:10px;border:5px" width="400" height="225" frameborder="0" align="right" allow="autoplay; fullscreen" allowfullscreen></iframe><ol class="arabic simple">
<li><p>Load the movie clip in which the avatar performs a yawn action with
the head azimuth angle at 0° (i.e. facing the virtual camera).</p></li>
<li><p>Once the yawn clip is completed, a subset of frames will be loaded
from the head rotation clip, and appended in reverse order so as to
produce a head rotation from 0 to -60° at a speed of 60°/second.</p></li>
<li><p>Load the movie clip containing a ‘coo’ vocalization with the head
azimuth angle at -60°,</p></li>
<li><p>Load the frames from the head rotation clip to show the head rotating
from -60° to +30°, at 105°/second</p></li>
<li><p>Load the movie clip containing a ‘scream’ vocalization with the head
azimuth angle at +30°</p></li>
</ol>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/MF3D_Logo_black.svg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="MF3D-Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Release-1.html">MF3D Release 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Release-2.html">MF3D Release 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Stimulus-Editor.html">MF3D Tools - Stimulus Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Video-Parameter-Estimation-GUI.html">MF3D Tools - Video Parameter GUI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using MF3D_ConcatClips.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Parameterizing-anatomical-variations.html">Methods - Face Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="MF3D-Research.html">MF3D Publications</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="MF3D-Video-Parameter-Estimation-GUI.html"
                        title="previous chapter">Video Parameter Estimation GUI</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="MF3D-Parameterizing-anatomical-variations.html"
                        title="next chapter">MF3D ‘Face-space’ construction</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="MF3D-Parameterizing-anatomical-variations.html" title="MF3D ‘Face-space’ construction"
             >next</a> |</li>
        <li class="right" >
          <a href="MF3D-Video-Parameter-Estimation-GUI.html" title="Video Parameter Estimation GUI"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">MF3D 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using MF3D_ConcatClips.py</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Aidan Murphy.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>